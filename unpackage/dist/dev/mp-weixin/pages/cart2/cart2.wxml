<view class="container"><view><view class="cart_list"><block wx:for="{{cartList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><view class="cart_item"><view class="image_wrapper"><image src="{{item.image}}" mode></image><view data-event-opts="{{[['tap',[['check',['item',index,'$0'],[[['cartList','',index,'check']]]]]]]}}" bindtap="__e"><check-box vue-id="{{'1-'+index}}" isChecked="{{item.check}}" data-event-opts="{{[['^updateIsChecked',[['__set_sync',['$0','check','$event'],[[['cartList','',index,'']]]]]],['^updateIsChecked',[['__set_sync',['$0','check','$event'],[[['cartList','',index,'']]]]]]]}}" bind:updateIsChecked="__e" bind:__l="__l"></check-box></view></view><view class="item_middle"><text>{{item.title}}</text><text>{{item.attr_val}}</text><text>{{"￥"+item.price}}</text>{{''+item.check+'---父组件'}}<uni-number-box vue-id="{{'2-'+index}}" min="{{1}}" max="{{item.stock}}" index="{{index}}" value="{{item.number>item.stock?item.stock:item.number}}" data-event-opts="{{[['^change',[['numberChange',['$event',index]]]]]}}" bind:change="__e" bind:__l="__l"></uni-number-box></view><text data-event-opts="{{[['tap',[['deleteCartItem',[index]]]]]}}" class="del-btn yticon icon-fork" bindtap="__e"></text></view></block></block></view><block wx:if="{{cartList}}"><view class="menu_section"><view class="checkbox"><view data-event-opts="{{[['tap',[['check',['all',100,'$0'],['allChecked']]]]]}}" bindtap="__e"><check-box vue-id="3" isChecked="{{allChecked}}" text="全选" data-event-opts="{{[['^updateIsChecked',[['__set_sync',['$0','allChecked','$event'],['']]]],['^updateIsChecked',[['__set_sync',['$0','allChecked','$event'],['']]]]]}}" bind:updateIsChecked="__e" bind:__l="__l"></check-box></view><view data-event-opts="{{[['tap',[['clearCart',['$event']]]]]}}" class="{{['clear_btn',(allChecked)?'show':'']}}" bindtap="__e">清空</view></view><view class="total_price"><text class="price_item">{{"￥"+totalPrice}}</text><text class="low">已优惠<text>74.35</text>元</text></view><button class="no-border confirm-btn" type="primary" data-event-opts="{{[['tap',[['createOrder',['$event']]]]]}}" bindtap="__e">去结算</button></view></block></view></view>